GitHub イシューから Given-When-Then ユースケース仕様を作成します。

以下の手順に従ってください：

1. **引数の確認**:

   - `$ARGUMENTS`が提供されていることを確認
   - 提供されていない場合は直ちに終了し、イシュー番号引数を渡すように日本語でユーザーに促す

2. **ビジョンとの整合性確認**:

   - 存在する場合は`docs/vision/project-vision.md`からビジョンドキュメントを読む
   - 存在する場合は`docs/use_cases/core/`からコアシナリオを読む
   - イシューがプロジェクトビジョンと整合していることを確認

3. **イシュー詳細の取得**:

   - `gh issue view $ARGUMENTS`を使用してイシュー詳細を取得
   - タイトル、説明、コメントを確認
   - 最新のコメントを古いコメントや元のイシュー説明より優先する
   - イシュー内容と新しいコメントの間に矛盾がある場合は、新しいコメントを優先する

4. **ユースケースの分析**:

   - イシューから解決すべき問題を理解
   - ビジネス要件とユーザーストーリーを抽出
   - 関連するドメイン概念を特定
   - これがコアシナリオの拡張なのか、完全に新しいものなのかを確認

5. **Given-When-Then 仕様の作成**:
   - `docs/use_cases/`ディレクトリが存在しない場合は作成
   - ファイル`docs/use_cases/issue-$ARGUMENTS-<feature-name>.md`を作成
   - 以下のテンプレートを使用して日本語で仕様を記述:

```markdown
# ユースケース: <機能名>

Issue: #$ARGUMENTS

## 概要

<issue から抽出した問題の概要と解決方針>

## ビジョンとの関連

- **関連する Bounded Context**: <Context name>
- **関連するコアシナリオ**: <ある場合はコアシナリオ>
- **拡張タイプ**: Core/Extension/Edge Case/New Feature

## ドメイン概念

- <概念 1>: <説明>
- <概念 2>: <説明>

## シナリオ

### シナリオ 1: <シナリオ名>

- **Given**: <前提条件>
- **When**: <実行アクション>
- **Then**: <期待される結果>

### シナリオ 2: <エッジケース>

- **Given**: <前提条件>
- **When**: <実行アクション>
- **Then**: <期待される結果>

### シナリオ 3: <エラーケース>

- **Given**: <前提条件>
- **When**: <実行アクション>
- **Then**: <エラー処理の期待結果>

## 備考

- <実装上の注意点>
- <非機能要件など>
```

6. **仕様の検証**:

   - 仕様がイシュー要件を満たしていることを確認
   - ユビキタス言語が一貫して使用されていることを確認
   - 各シナリオが独立してテスト可能であることを確認
   - プロジェクトビジョンとコアシナリオとの整合性を確認

7. **イシューにコメントを追加**:

   - `gh issue comment $ARGUMENTS --body "Given-When-Then仕様を作成しました: docs/use_cases/issue-$ARGUMENTS-<feature-name>.md"`を使用
   - 仕様ファイルのパスを含める

8. **次のステップの案内**:
   - 日本語でドメインモデリング（`/domain-modeling`）の実行を推奨
   - または仕様レビューを提案

重要な注意事項:

- シナリオは 3-5 項目に抑える
- 各シナリオは独立してテスト可能でなければならない
- ドメイン言語を明確に定義する
- 常にエッジケースとエラーケースを含める
- すべてのユーザー向け出力は日本語で行う必要があります
